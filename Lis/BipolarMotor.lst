C51 COMPILER V9.52.0.0   BIPOLARMOTOR                                                      07/10/2018 14:42:36 PAGE 1   


C51 COMPILER V9.52.0.0, COMPILATION OF MODULE BIPOLARMOTOR
OBJECT MODULE PLACED IN .\Obj\BipolarMotor.obj
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE BipolarMotor.c LARGE BROWSE INCDIR(.\Application\Header) DEBUG OBJECTEXT
                    -END PRINT(.\Lis\BipolarMotor.lst) TABS(2) OBJECT(.\Obj\BipolarMotor.obj)

line level    source

   1          #include "stc15f2k60s2.h"
   2          #include "LCD_Driver_SPLC780D.h"
   3          #include "Receiver_Position_Data.h"
   4          #include "math.h"
   5          void Delay_ms(unsigned int ms);
   6          int Day_Of_Year(unsigned char months,unsigned char days);
   7          void Step_move(unsigned int step, int direction)
   8          {
   9   1            unsigned int i=0;
  10   1            for( i=0;i<step;i++)
  11   1            {
  12   2                P4 |=0x06;// P41=1 // moving distance (mm)=pi^2*step*4/675
  13   2                Wait_ms(10);
  14   2                P4 &= 0xFC;
  15   2                Wait_ms(10);
  16   2            }
  17   1      }
*** WARNING C280 IN LINE 7 OF BipolarMotor.c: 'direction': unreferenced local variable
  18          
  19          void Move(float distance, int direction)
  20          {
  21   1          unsigned int step;
  22   1          step= distance*675/(4*3.14159*3.14159);
  23   1          Step_move(step,direction);
  24   1      }
  25          
  26          
  27          
  28          
  29          void Update_position(unsigned char months,unsigned char days,unsigned char hours,unsigned char mins,unsign
             -ed char seconds,int direction)
  30          {
  31   1        int date,i;
  32   1        float distance;
  33   1        date=Day_Of_Year(months,days);
  34   1        
  35   1        for(i=0;i<192;i++)
  36   1        {
  37   2          if (hours==Time_stamp_PM[0][i] && mins== Time_stamp_PM[1][i]&& seconds==Time_stamp_PM[2][i])
  38   2          {
  39   3            distance=degree3_function[i][0]*pow(date,3)+degree3_function[i][1]*pow(date,2)+degree3_function[i][2]*d
             -ate+degree3_function[i][3];
  40   3            Move(distance,direction);
  41   3            break;
  42   3          }
  43   2        }
  44   1      }
  45          
  46          //int Day_Of_Year(unsigned char months,unsigned char days)


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    760    ----
   CONSTANT SIZE    =   ----    ----
C51 COMPILER V9.52.0.0   BIPOLARMOTOR                                                      07/10/2018 14:42:36 PAGE 2   

   XDATA SIZE       =   7668      23
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  1 WARNING(S),  0 ERROR(S)
